dsn: postgresql://kratos_db_1rtf_user:Sgfs275RPCV0suTWGFBUqYKFPD5V7nb3@dpg-cvdhk3ofnakc73dhk2m0-a/kratos_db_1rtf

serve:
  public:
    base_url: https://ory-kratos-frontend.onrender.com #JAN 29
    cors:
      enabled: true
      allowed_origins:
        - http://15.206.71.188:5174
        - http://localhost:5174
        - http://localhost:3000
        - https://ory-kratos-frontend.onrender.com
      allowed_methods:
        - GET
        - POST
        - PUT
        - DELETE
        - OPTIONS
      allowed_headers:
        - Authorization
        - Content-Type
        - X-Csrf-Token
        - X-CSRF-Token
      exposed_headers:
        - Set-Cookie
      allow_credentials: true
      max_age: 3600
log:
  level: debug

selfservice:
  default_browser_return_url: https://ory-kratos-frontend.onrender.com/
  allowed_return_urls:
    - https://ory-kratos-frontend.onrender.com/
  methods:
    oidc:
      enabled: true
      config:
        base_redirect_uri: https://ory-kratos-render.onrender.com
        providers:
          - id: github
            provider: github
            client_id: Ov23liQHDZEkx9F3ukuY  # Replace with actual client ID
            client_secret: cab88143bcc2d1d3557ec9c446ca1ed6c3863ff1  # Replace with actual client secret
            pkce: never  # Explicitly disable PKCE
            mapper_url: file://./mappers/github_mapper.jsonnet
            scope:
              - user:email
              - read:user
            issuer_url: https://github.com
            token_url: https://github.com/login/oauth/access_token

   

identity:
  schemas:
    - id: default
      url: file:///app/identity.schema.json
